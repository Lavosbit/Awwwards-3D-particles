{"id":"/Gy0","dependencies":[{"name":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/package.json","includedInParent":true,"mtime":1645324589260},{"name":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/node_modules/three/package.json","includedInParent":true,"mtime":1644614613320},{"name":"../../../build/three.module.js","loc":{"line":6,"column":7},"parent":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/node_modules/three/examples/jsm/loaders/DRACOLoader.js","resolved":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/node_modules/three/build/three.module.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DRACOLoader=void 0;var e=require(\"../../../build/three.module.js\"),t=function(t){e.Loader.call(this,t),this.decoderPath=\"\",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL=\"\",this.defaultAttributeIDs={position:\"POSITION\",normal:\"NORMAL\",color:\"COLOR\",uv:\"TEX_COORD\"},this.defaultAttributeTypes={position:\"Float32Array\",normal:\"Float32Array\",color:\"Float32Array\",uv:\"Float32Array\"}};exports.DRACOLoader=t,t.prototype=Object.assign(Object.create(e.Loader.prototype),{constructor:t,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn(\"THREE.DRACOLoader: The .setVerbosity() method has been removed.\")},setDrawMode:function(){console.warn(\"THREE.DRACOLoader: The .setDrawMode() method has been removed.\")},setSkipDequantization:function(){console.warn(\"THREE.DRACOLoader: The .setSkipDequantization() method has been removed.\")},load:function(t,r,o,s){var a=new e.FileLoader(this.manager);a.setPath(this.path),a.setResponseType(\"arraybuffer\"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,e=>{var t={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(e,t).then(r).catch(s)},o,s)},decodeDracoFile:function(e,t,r,o){var s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:o||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)},decodeGeometry:function(e,r){for(var o in r.attributeTypes){var s=r.attributeTypes[o];void 0!==s.BYTES_PER_ELEMENT&&(r.attributeTypes[o]=s.name)}var a,n=JSON.stringify(r);if(t.taskCache.has(e)){var i=t.taskCache.get(e);if(i.key===n)return i.promise;if(0===e.byteLength)throw new Error(\"THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.\")}var d=this.workerNextTaskID++,c=e.byteLength,u=this._getWorker(d,c).then(t=>(a=t,new Promise((t,o)=>{a._callbacks[d]={resolve:t,reject:o},a.postMessage({type:\"decode\",id:d,taskConfig:r,buffer:e},[e])}))).then(e=>this._createGeometry(e.geometry));return u.catch(()=>!0).then(()=>{a&&d&&this._releaseTask(a,d)}),t.taskCache.set(e,{key:n,promise:u}),u},_createGeometry:function(t){var r=new e.BufferGeometry;t.index&&r.setIndex(new e.BufferAttribute(t.index.array,1));for(var o=0;o<t.attributes.length;o++){var s=t.attributes[o],a=s.name,n=s.array,i=s.itemSize;r.setAttribute(a,new e.BufferAttribute(n,i))}return r},_loadLibrary:function(t,r){var o=new e.FileLoader(this.manager);return o.setPath(this.decoderPath),o.setResponseType(r),o.setWithCredentials(this.withCredentials),new Promise((e,r)=>{o.load(t,e,void 0,r)})},preload:function(){return this._initDecoder(),this},_initDecoder:function(){if(this.decoderPending)return this.decoderPending;var e=\"object\"!=typeof WebAssembly||\"js\"===this.decoderConfig.type,r=[];return e?r.push(this._loadLibrary(\"draco_decoder.js\",\"text\")):(r.push(this._loadLibrary(\"draco_wasm_wrapper.js\",\"text\")),r.push(this._loadLibrary(\"draco_decoder.wasm\",\"arraybuffer\"))),this.decoderPending=Promise.all(r).then(r=>{var o=r[0];e||(this.decoderConfig.wasmBinary=r[1]);var s=t.DRACOWorker.toString(),a=[\"/* draco decoder */\",o,\"\",\"/* worker */\",s.substring(s.indexOf(\"{\")+1,s.lastIndexOf(\"}\"))].join(\"\\n\");this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending},_getWorker:function(e,t){return this._initDecoder().then(()=>{var r;this.workerPool.length<this.workerLimit?((r=new Worker(this.workerSourceURL))._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:\"init\",decoderConfig:this.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case\"decode\":r._callbacks[t.id].resolve(t);break;case\"error\":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, \"'+t.type+'\"')}},this.workerPool.push(r)):this.workerPool.sort(function(e,t){return e._taskLoad>t._taskLoad?-1:1});return(r=this.workerPool[this.workerPool.length-1])._taskCosts[e]=t,r._taskLoad+=t,r})},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log(\"Task load: \",this.workerPool.map(e=>e._taskLoad))},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),t.DRACOWorker=function(){var e,t;function r(e,t,r,o,s,a){var n=a.num_components(),i=r.num_points()*n,d=i*s.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,s),u=e._malloc(d);t.GetAttributeDataArrayForAllPoints(r,a,c,d,u);var h=new s(e.HEAPF32.buffer,u,i).slice();return e._free(u),{name:o,array:h,itemSize:n}}onmessage=function(o){var s=o.data;switch(s.type){case\"init\":e=s.decoderConfig,t=new Promise(function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)});break;case\"decode\":var a=s.buffer,n=s.taskConfig;t.then(e=>{var t=e.draco,o=new t.Decoder,i=new t.DecoderBuffer;i.Init(new Int8Array(a),a.byteLength);try{var d=function(e,t,o,s){var a,n,i=s.attributeIDs,d=s.attributeTypes,c=t.GetEncodedGeometryType(o);if(c===e.TRIANGULAR_MESH)a=new e.Mesh,n=t.DecodeBufferToMesh(o,a);else{if(c!==e.POINT_CLOUD)throw new Error(\"THREE.DRACOLoader: Unexpected geometry type.\");a=new e.PointCloud,n=t.DecodeBufferToPointCloud(o,a)}if(!n.ok()||0===a.ptr)throw new Error(\"THREE.DRACOLoader: Decoding failed: \"+n.error_msg());var u={index:null,attributes:[]};for(var h in i){var l,f,y=self[d[h]];if(s.useUniqueIDs)f=i[h],l=t.GetAttributeByUniqueId(a,f);else{if(-1===(f=t.GetAttributeId(a,e[i[h]])))continue;l=t.GetAttribute(a,f)}u.attributes.push(r(e,t,a,h,y,l))}c===e.TRIANGULAR_MESH&&(u.index=function(e,t,r){var o=3*r.num_faces(),s=4*o,a=e._malloc(s);t.GetTrianglesUInt32Array(r,s,a);var n=new Uint32Array(e.HEAPF32.buffer,a,o).slice();return e._free(a),{array:n,itemSize:1}}(e,t,a));return e.destroy(a),u}(t,o,i,n),c=d.attributes.map(e=>e.array.buffer);d.index&&c.push(d.index.array.buffer),self.postMessage({type:\"decode\",id:s.id,geometry:d},c)}catch(u){console.error(u),self.postMessage({type:\"error\",id:s.id,error:u.message})}finally{t.destroy(i),t.destroy(o)}})}}},t.taskCache=new WeakMap,t.setDecoderPath=function(){console.warn(\"THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.\")},t.setDecoderConfig=function(){console.warn(\"THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.\")},t.releaseDecoderModule=function(){console.warn(\"THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.\")},t.getDecoderModule=function(){console.warn(\"THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.\")};"},"sourceMaps":null,"error":null,"hash":"7617bf313610c5b85382c1f5e9273eb9","cacheData":{"env":{}}}