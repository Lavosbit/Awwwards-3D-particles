{"id":"JDu1","dependencies":[{"name":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/package.json","includedInParent":true,"mtime":1645324589260},{"name":"three","loc":{"line":1,"column":23},"parent":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/src/model.js","resolved":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/node_modules/three/build/three.module.js"},{"name":"gsap","loc":{"line":2,"column":17},"parent":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/src/model.js","resolved":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/node_modules/gsap/index.js"},{"name":"three/examples/jsm/loaders/GLTFLoader","loc":{"line":3,"column":27},"parent":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/src/model.js","resolved":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/node_modules/three/examples/jsm/loaders/GLTFLoader.js"},{"name":"three/examples/jsm/loaders/DRACOLoader","loc":{"line":4,"column":28},"parent":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/src/model.js","resolved":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/node_modules/three/examples/jsm/loaders/DRACOLoader.js"},{"name":"three/examples/jsm/math/MeshSurfaceSampler","loc":{"line":5,"column":35},"parent":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/src/model.js","resolved":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/node_modules/three/examples/jsm/math/MeshSurfaceSampler.js"},{"name":"./shader/vertexShader.glsl","loc":{"line":6,"column":19},"parent":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/src/model.js","resolved":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/src/shader/vertexShader.glsl"},{"name":"./shader/fragmentShader.glsl","loc":{"line":7,"column":21},"parent":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/src/model.js","resolved":"/Users/jacob/Documents/vs code/courses/awwwards/3D Particles/src/shader/fragmentShader.glsl"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=u(require(\"three\")),r=l(require(\"gsap\")),t=require(\"three/examples/jsm/loaders/GLTFLoader\"),a=require(\"three/examples/jsm/loaders/DRACOLoader\"),o=require(\"three/examples/jsm/math/MeshSurfaceSampler\"),i=l(require(\"./shader/vertexShader.glsl\")),n=l(require(\"./shader/fragmentShader.glsl\"));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if(\"function\"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(s=function(e){return e?t:r})(e)}function u(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=s(r);if(t&&t.has(e))return t.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(\"default\"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var n=o?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(a,i,n):a[i]=e[i]}return a.default=e,t&&t.set(e,a),a}function c(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}function d(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,r,t){return r&&d(e.prototype,r),t&&d(e,t),Object.defineProperty(e,\"prototype\",{writable:!1}),e}var p=function(){function l(e){c(this,l),this.name=e.name,this.file=e.file,this.scene=e.scene,this.placeOnLoad=e.placeOnLoad,this.isActive=!1,this.color1=e.color1,this.color2=e.color2,this.loader=new t.GLTFLoader,this.dracoLoader=new a.DRACOLoader,this.dracoLoader.setDecoderPath(\"./draco/\"),this.loader.setDRACOLoader(this.dracoLoader),this.init()}return f(l,[{key:\"init\",value:function(){var r=this;this.loader.load(this.file,function(t){r.mesh=t.scene.children[0],r.geometry=r.mesh.geometry,r.particlesMaterial=new e.ShaderMaterial({uniforms:{uColor1:{value:new e.Color(r.color1)},uColor2:{value:new e.Color(r.color2)},uTime:{value:0},uScale:{value:0}},vertexShader:i.default,fragmentShader:n.default,transparent:!0,depthTest:!1,depthWrite:!1,blending:e.AdditiveBlending});var a=new o.MeshSurfaceSampler(r.mesh).build();r.particlesGeometry=new e.BufferGeometry;for(var l=new Float32Array(6e4),s=new Float32Array(6e4),u=0;u<2e4;u++){var c=new e.Vector3;a.sample(c),l.set([c.x,c.y,c.z],3*u),s.set([2*Math.random()-1,2*Math.random()-1,2*Math.random()-1],3*u)}r.particlesGeometry.setAttribute(\"position\",new e.BufferAttribute(l,3)),r.particlesGeometry.setAttribute(\"aRandom\",new e.BufferAttribute(s,3)),console.log(r.particlesGeometry),r.particles=new e.Points(r.particlesGeometry,r.particlesMaterial),r.placeOnLoad&&r.add()})}},{key:\"add\",value:function(){this.scene.add(this.particles),this.isActive=!0,r.default.to(this.particlesMaterial.uniforms.uScale,{value:1,duration:.8,delay:.3,ease:\"power3.out\"})}},{key:\"remove\",value:function(){var e=this;r.default.to(this.particlesMaterial.uniforms.uScale,{value:0,duration:.8,ease:\"power3.out\",onComplete:function(){e.scene.remove(e.particles),e.isActive=!1}})}}]),l}(),h=p;exports.default=h;"},"sourceMaps":null,"error":null,"hash":"a7c9653657eb87305685ea03ac86054d","cacheData":{"env":{}}}